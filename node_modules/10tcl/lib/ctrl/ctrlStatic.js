module.exports = function(srv, base, modelName, config){

    var baseURLTemplate = ''
    if ( config.multiTenant) baseURLTemplate += '/:tenant'
    if ( config.domain ) baseURLTemplate += '/' + config.domain
    var modelURLTemplate = baseURLTemplate + '/' + modelName

	function getList(req, res){
		var modelName = req.params.model
		  , model = srv.m[modelName]

		res.send(model)
	}

	srv.get   ( modelURLTemplate+'/list'       , base.checkTenant, base.auth, base.checkModel, getList )
    
}